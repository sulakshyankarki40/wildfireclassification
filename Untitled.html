<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fire Intensity Classification - Project Diagrams</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.1em;
            opacity: 0.9;
        }
        .content {
            padding: 30px;
        }
        .diagram-section {
            margin-bottom: 50px;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        .diagram-section h2 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        .diagram-section h3 {
            color: #34495e;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.3em;
        }
        .diagram-wrapper {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            overflow-x: auto;
        }
        .mermaid {
            text-align: center;
            min-height: 200px;
        }
        .diagram-description {
            background: #e8f4f8;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border: 2px solid #e9ecef;
            transition: transform 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .feature-card h4 {
            color: #2c3e50;
            margin-top: 0;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
        }
        .feature-list {
            list-style: none;
            padding: 0;
        }
        .feature-list li {
            padding: 5px 0;
            border-bottom: 1px solid #ecf0f1;
        }
        .feature-list li:before {
            content: "🔥";
            margin-right: 8px;
        }
        .metrics-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .metrics-table th, .metrics-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }
        .metrics-table th {
            background: #3498db;
            color: white;
            font-weight: 600;
        }
        .metrics-table tr:hover {
            background: #f8f9fa;
        }
        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }
        .nav-button {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }
        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }
        .threshold-info {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .threshold-info h4 {
            margin-top: 0;
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🔥 Fire Intensity Classification Project</h1>
            <p>Comprehensive Diagrams and Architecture Overview</p>
        </div>

        <div class="content">
            <!-- Navigation -->
            <div class="nav-buttons">
                <a href="#overview" class="nav-button">Project Overview</a>
                <a href="#dataflow" class="nav-button">Data Flow</a>
                <a href="#architecture" class="nav-button">Architecture</a>
                <a href="#features" class="nav-button">Features</a>
                <a href="#model" class="nav-button">Model Pipeline</a>
            </div>

            <!-- 1. Project Overview Diagram -->
            <div class="diagram-section" id="overview">
                <h2>1. Project Overview & Workflow</h2>
                <div class="diagram-wrapper">
                    <div class="mermaid">
                        graph TD
                            A[Fire Dataset<br/>CSV Input] --> B[Data Analysis<br/>& Exploration]
                            B --> C[Percentile-based<br/>Threshold Analysis]
                            C --> D[Feature Engineering<br/>& Preprocessing]
                            D --> E[XGBoost Model<br/>Training]
                            E --> F[Model Evaluation<br/>& Validation]
                            F --> G[Manual Prediction<br/>Interface]
                            
                            C --> H[Threshold Selection<br/>20-40-70 vs 25-50-75]
                            H --> I[Class Balance<br/>Optimization]
                            I --> D
                            
                            style A fill:#ff6b6b,stroke:#fff,stroke-width:2px,color:#fff
                            style G fill:#2ecc71,stroke:#fff,stroke-width:2px,color:#fff
                            style E fill:#3498db,stroke:#fff,stroke-width:2px,color:#fff
                    </div>
                </div>
                <div class="diagram-description">
                    <strong>Overview:</strong> This project implements a machine learning pipeline for classifying fire intensity using satellite data. The key innovation is the use of percentile-based thresholds for better class balance.
                </div>
            </div>

            <!-- 2. Data Flow Diagram -->
            <div class="diagram-section" id="dataflow">
                <h2>2. Data Flow Architecture</h2>
                <div class="diagram-wrapper">
                    <div class="mermaid">
                        graph LR
                            A[Raw Fire Data<br/>CSV] --> B[Data Cleaning<br/>& Validation]
                            B --> C[Missing Value<br/>Handling]
                            C --> D[Data Type<br/>Conversion]
                            D --> E[Outlier<br/>Detection]
                            E --> F[Feature<br/>Engineering]
                            
                            F --> G[Environmental<br/>Features]
                            F --> H[Geographical<br/>Features]
                            F --> I[Satellite<br/>Features]
                            F --> J[Temporal<br/>Features]
                            
                            G --> K[Model Ready<br/>Dataset]
                            H --> K
                            I --> K
                            J --> K
                            
                            K --> L[Train/Test<br/>Split]
                            L --> M[XGBoost<br/>Training]
                            M --> N[Predictions<br/>& Evaluation]
                            
                            style A fill:#e74c3c,stroke:#fff,stroke-width:2px,color:#fff
                            style K fill:#f39c12,stroke:#fff,stroke-width:2px,color:#fff
                            style N fill:#27ae60,stroke:#fff,stroke-width:2px,color:#fff
                    </div>
                </div>
                <div class="diagram-description">
                    <strong>Data Flow:</strong> Raw satellite fire data undergoes comprehensive preprocessing including cleaning, feature engineering, and transformation before being fed into the XGBoost classifier.
                </div>
            </div>

            <!-- 3. System Architecture -->
            <div class="diagram-section" id="architecture">
                <h2>3. System Architecture</h2>
                <div class="diagram-wrapper">
                    <div class="mermaid">
                        graph TB
                            subgraph "Data Layer"
                                A[Fire Dataset<br/>CORD23.csv]
                                B[Satellite Data<br/>VIIRS/MODIS]
                                C[Environmental Data<br/>Temperature, Humidity]
                            end
                            
                            subgraph "Processing Layer"
                                D[Data Preprocessor]
                                E[Feature Engineer]
                                F[Threshold Analyzer]
                                G[Label Encoder]
                            end
                            
                            subgraph "Model Layer"
                                H[XGBoost Classifier]
                                I[Cross Validation]
                                J[Hyperparameter Tuning]
                            end
                            
                            subgraph "Evaluation Layer"
                                K[Performance Metrics]
                                L[Confusion Matrix]
                                M[Feature Importance]
                            end
                            
                            subgraph "Interface Layer"
                                N[Manual Prediction]
                                O[Batch Processing]
                                P[Results Visualization]
                            end
                            
                            A --> D
                            B --> D
                            C --> D
                            D --> E
                            E --> F
                            F --> G
                            G --> H
                            H --> I
                            I --> J
                            J --> K
                            K --> L
                            L --> M
                            M --> N
                            N --> O
                            O --> P
                            
                            style H fill:#3498db,stroke:#fff,stroke-width:3px,color:#fff
                            style N fill:#2ecc71,stroke:#fff,stroke-width:2px,color:#fff
                    </div>
                </div>
                <div class="diagram-description">
                    <strong>Architecture:</strong> The system follows a layered architecture with clear separation of concerns, from data ingestion through model training to prediction interface.
                </div>
            </div>

            <!-- 4. Feature Engineering Pipeline -->
            <div class="diagram-section" id="features">
                <h2>4. Feature Engineering Pipeline</h2>
                <div class="diagram-wrapper">
                    <div class="mermaid">
                        graph TD
                            A[Raw Features] --> B[Environmental Processing]
                            A --> C[Geographical Processing]
                            A --> D[Satellite Processing]
                            A --> E[Temporal Processing]
                            
                            B --> B1[Temperature K→C]
                            B --> B2[Humidity Index]
                            B --> B3[Drought Index]
                            B --> B4[Precipitation Flag]
                            
                            C --> C1[Slope Categories]
                            C --> C2[Aspect Categories]
                            C --> C3[Elevation Categories]
                            C --> C4[Coordinate Features]
                            
                            D --> D1[Brightness Difference]
                            D --> D2[Confidence Levels]
                            D --> D3[FRP Transformations]
                            D --> D4[Intensity Ratios]
                            
                            E --> E1[Hour Extraction]
                            E --> E2[Time of Day]
                            E --> E3[Day/Night Flag]
                            E --> E4[Seasonal Features]
                            
                            B1 --> F[Feature Matrix]
                            B2 --> F
                            B3 --> F
                            B4 --> F
                            C1 --> F
                            C2 --> F
                            C3 --> F
                            C4 --> F
                            D1 --> F
                            D2 --> F
                            D3 --> F
                            D4 --> F
                            E1 --> F
                            E2 --> F
                            E3 --> F
                            E4 --> F
                            
                            style F fill:#2ecc71,stroke:#fff,stroke-width:2px,color:#fff
                            style A fill:#e74c3c,stroke:#fff,stroke-width:2px,color:#fff
                    </div>
                </div>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>🌡️ Environmental Features</h4>
                        <ul class="feature-list">
                            <li>Temperature (K → C)</li>
                            <li>Dewpoint Temperature</li>
                            <li>Relative Humidity</li>
                            <li>Precipitation Amount</li>
                            <li>Temp-Humidity Index</li>
                            <li>Drought Index</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>🗺️ Geographical Features</h4>
                        <ul class="feature-list">
                            <li>Elevation Categories</li>
                            <li>Slope Categories</li>
                            <li>Aspect Categories</li>
                            <li>Latitude/Longitude</li>
                            <li>Hillshade</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>🛰️ Satellite Features</h4>
                        <ul class="feature-list">
                            <li>Brightness Values</li>
                            <li>Brightness Difference</li>
                            <li>FRP Transformations</li>
                            <li>Confidence Levels</li>
                            <li>Intensity Ratios</li>
                        </ul>
                    </div>
                    
                    <div class="feature-card">
                        <h4>⏰ Temporal Features</h4>
                        <ul class="feature-list">
                            <li>Acquisition Time</li>
                            <li>Time of Day</li>
                            <li>Day/Night Flag</li>
                            <li>Hour Categories</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 5. Model Pipeline -->
            <div class="diagram-section" id="model">
                <h2>5. XGBoost Model Pipeline</h2>
                <div class="diagram-wrapper">
                    <div class="mermaid">
                        graph TD
                            A[Preprocessed Data] --> B[Train/Test Split<br/>80/20 Stratified]
                            B --> C[Feature Selection<br/>& Encoding]
                            C --> D[Target Encoding<br/>LabelEncoder]
                            D --> E[Class Weight<br/>Calculation]
                            E --> F[XGBoost Training<br/>300 estimators]
                            
                            F --> G[Cross Validation<br/>5-fold CV]
                            G --> H[Model Evaluation]
                            H --> I[Feature Importance<br/>Analysis]
                            I --> J[Prediction Interface]
                            
                            subgraph "Model Parameters"
                                K[max_depth: 6<br/>learning_rate: 0.1<br/>subsample: 0.8<br/>colsample_bytree: 0.8]
                            end
                            
                            subgraph "Evaluation Metrics"
                                L[Accuracy<br/>Precision<br/>Recall<br/>F1-Score<br/>Confusion Matrix]
                            end
                            
                            F --> K
                            H --> L
                            
                            style F fill:#3498db,stroke:#fff,stroke-width:3px,color:#fff
                            style J fill:#2ecc71,stroke:#fff,stroke-width:2px,color:#fff
                            style L fill:#f39c12,stroke:#fff,stroke-width:2px,color:#fff
                    </div>
                </div>
                
                <div class="threshold-info">
                    <h4>🎯 Percentile-Based Thresholds</h4>
                    <p>The project uses two threshold approaches:</p>
                    <ul>
                        <li><strong>Quartile Approach:</strong> 25th, 50th, 75th percentiles</li>
                        <li><strong>Balanced Approach:</strong> 20th, 40th, 70th percentiles</li>
                    </ul>
                    <p>Classes: Very_Low → Low → Medium → High</p>
                </div>
            </div>

            <!-- 6. Performance Metrics -->
            <div class="diagram-section">
                <h2>6. Model Performance Framework</h2>
                <div class="diagram-wrapper">
                    <div class="mermaid">
                        graph LR
                            A[Model Predictions] --> B[Classification Report]
                            A --> C[Confusion Matrix]
                            A --> D[Cross Validation]
                            A --> E[Feature Importance]
                            
                            B --> F[Precision<br/>Recall<br/>F1-Score]
                            C --> G[True/False<br/>Positives/Negatives]
                            D --> H[Model Stability<br/>Variance]
                            E --> I[Top Contributing<br/>Features]
                            
                            F --> J[Performance<br/>Dashboard]
                            G --> J
                            H --> J
                            I --> J
                            
                            style A fill:#e74c3c,stroke:#fff,stroke-width:2px,color:#fff
                            style J fill:#2ecc71,stroke:#fff,stroke-width:2px,color:#fff
                    </div>
                </div>
                
                <table class="metrics-table">
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Purpose</th>
                            <th>Implementation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Accuracy</td>
                            <td>Overall correctness</td>
                            <td>accuracy_score()</td>
                        </tr>
                        <tr>
                            <td>Precision</td>
                            <td>Positive prediction accuracy</td>
                            <td>precision_score(weighted)</td>
                        </tr>
                        <tr>
                            <td>Recall</td>
                            <td>True positive detection rate</td>
                            <td>recall_score(weighted)</td>
                        </tr>
                        <tr>
                            <td>F1-Score</td>
                            <td>Harmonic mean of precision/recall</td>
                            <td>f1_score(weighted)</td>
                        </tr>
                        <tr>
                            <td>Cross Validation</td>
                            <td>Model generalization</td>
                            <td>5-fold stratified CV</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- 7. Prediction Interface -->
            <div class="diagram-section">
                <h2>7. Manual Prediction Interface</h2>
                <div class="diagram-wrapper">
                    <div class="mermaid">
                        graph TD
                            A[User Input] --> B[Input Validation]
                            B --> C[Feature Mapping]
                            C --> D[Missing Value<br/>Handling]
                            D --> E[Categorical<br/>Encoding]
                            E --> F[Feature Array<br/>Creation]
                            F --> G[XGBoost<br/>prediction()]
                            G --> H[Probability<br/>Calculation]
                            H --> I[Class<br/>Decoding]
                            I --> J[Confidence<br/>Assessment]
                            J --> K[Result<br/>Display]
                            
                            subgraph "Input Parameters"
                                L[Temperature<br/>Humidity<br/>FRP Value<br/>Brightness<br/>Elevation<br/>Coordinates]
                            end
                            
                            subgraph "Output Format"
                                M[Predicted Class<br/>Confidence Score<br/>Class Probabilities<br/>Input Summary]
                            end
                            
                            A --> L
                            K --> M
                            
                            style G fill:#3498db,stroke:#fff,stroke-width:3px,color:#fff
                            style K fill:#2ecc71,stroke:#fff,stroke-width:2px,color:#fff
                    </div>
                </div>
                
                <div class="diagram-description">
                    <strong>Interface Features:</strong> The prediction interface allows users to input custom fire scenarios and receive immediate intensity classifications with confidence scores and probability distributions across all classes.
                </div>
            </div>

            <!-- Footer -->
            <div style="text-align: center; padding: 30px; background: #34495e; color: white; margin-top: 50px;">
                <h3>🔥 Fire Intensity Classification System</h3>
                <p>Built with XGBoost • Percentile-based Thresholds • Comprehensive Feature Engineering</p>
                <p><em>For wildfire monitoring and risk assessment</em></p>
            </div>
        </div>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#3498db',
                primaryTextColor: '#fff',
                primaryBorderColor: '#2980b9',
                lineColor: '#34495e',
                secondaryColor: '#ecf0f1',
                tertiaryColor: '#fff'
            }
        });

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>